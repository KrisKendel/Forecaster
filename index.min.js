let btn=document.getElementById("button"),containerDisp=document.getElementById("container"),cityDisp=document.getElementById("city"),cityName=document.getElementById("name-city"),text=document.getElementById("text");function convertDate(e){var t=e.split(/\D/g);return[t[2],t[1],t[0]].join(".")}function dayOfWeek(e){switch(e){case 0:return"Sunday";case 1:return"Monday";case 2:return"Thuesday";case 3:return"Wedenesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}}function media(){window.onresize=media;let e=window.matchMedia("(max-width: 659px)"),t=window.matchMedia("(max-width: 1500px)");return e.matches?containerDisp.style.display="block":!e.matches&&t.matches?containerDisp.style.display="grid":t.matches?void 0:containerDisp.style.display="flex"}text.addEventListener("keydown",function(e){13===e.keyCode&&(e.preventDefault(),btn.click())}),btn.addEventListener("click",function(){let e="http://api.weatherbit.io/v2.0/forecast/daily?city="+text.value+",HR&key=ff96fcff7418482a9eb4fde448866d04",t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===t.readyState)if(200==t.status)containerDisp.style.display=media(),cityDisp.style.display="block",cityName.innerHTML=text.value;else{if(t.status>=500)return alert("internal server error!");if(t.status>=402&&t.status<=420)return alert("Client error!");if(204==t.status)return alert("Please enter valid name of the Croatian city!");if(400==t.status||401==t.status)return alert("Bad request & unauthorized error!")}},t.open("GET",e,!0),t.onload=function(){let e=JSON.parse(t.responseText);for(let t=0;t<e.data.length;t++){let n=dayOfWeek(((new Date).getDay()+t)%7),a=e.data[t].valid_date,i=e.data[t].temp,r=e.data[t].max_temp,d=e.data[t].min_temp,s="day"+t,c="date"+t,o="temp"+t,u="maxtemp"+t,l="mintemp"+t;document.getElementById(s).innerHTML=n,document.getElementById(c).innerHTML=convertDate(a),document.getElementById(o).innerHTML=i,document.getElementById(u).innerHTML=r,document.getElementById(l).innerHTML=d}},text&&t.send()});